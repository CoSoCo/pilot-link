OBJS = socket.o serial.o slp.o padp.o prcread.o utils.o dlp.o cmp.o

CC = gcc
CFLAGS = -O2 -g -I../include
# -DDEBUG
AR = ar -cur
RANLIB = ranlib
RM = rm -f

all: libpisock.a

libpisock.a: $(OBJS)
	$(RM) libpisock.a
	$(AR) libpisock.a $(OBJS)
	$(RANLIB) libpisock.a

clean:
	$(RM) *.[oa] *~ core a.out

# Dependancies generated by hand with "gcc -MM -I../include"
cmp.o: cmp.c ../include/pi-socket.h ../include/padp.h ../include/cmp.h
dlp.o: dlp.c ../include/pi-socket.h ../include/dlp.h
padp.o: padp.c ../include/pi-socket.h ../include/padp.h
prcread.o: prcread.c ../include/prc.h ../include/pi-socket.h
serial.o: serial.c ../include/pi-socket.h
slp.o: slp.c ../include/pi-socket.h ../include/slp.h
socket.o: socket.c ../include/pi-socket.h ../include/padp.h \
 ../include/cmp.h ../include/dlp.h
utils.o: utils.c ../include/pi-socket.h
