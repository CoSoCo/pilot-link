
CCOBJS = datebook.o address.o todo.o appInfo.o

cclib = @cclib@

srcdir = @srcdir@
VPATH = @srcdir@

CC = @CC@
CXX = @CXX@
CFLAGS = @CFLAGS@ @CWFLAG@ -I../include -I$(srcdir)/../include
# -DPADP_TRACE
# -DNO_DLP_TRACE
# -DNO_SERIAL_TRACE
# -DDEBUG
CXXFLAGS = @CXXFLAGS@ @CWFLAG@ -I../include -I$(srcdir)/../include
AR = ar
ARFLAGS = @ARFLAGS@
RANLIB = @RANLIB@
RM = rm -f

all: $(cclib)

libpicc.a: $(CCOBJS)
	$(RM) libpicc.a
	$(AR) $(ARFLAGS) libpicc.a $(CCOBJS)
	$(RANLIB) libpicc.a
	
clean:
	$(RM) *.o *.a core a.out *.orig

depend:
	perl -i~ -ne 'print if 1../^#Depend/' Makefile.in ; gcc -MM -I../include *.cc >> Makefile.in

#Dependencies
address.o: address.cc ../include/pi-address.h ../include/pi-appinfo.h \
 ../include/pi-macros.h
appInfo.o: appInfo.cc ../include/pi-appinfo.h ../include/pi-macros.h
datebook.o: datebook.cc ../include/pi-datebook.h \
 ../include/pi-appinfo.h ../include/pi-macros.h
todo.o: todo.cc ../include/pi-todo.h ../include/pi-appinfo.h \
 ../include/pi-macros.h
