# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#
# See the file COPYING.LIB for details on the GNU LGPL, and Artistic for
# information on Perl's Artistic License.
#
use ExtUtils::MakeMaker;
# See lib/ExtUtils/MakeMaker.pm for details of how to influence
# the contents of the Makefile that is written.

$prefix = "@prefix@";
$exec_prefix = "@exec_prefix@";
$libdir = "@libdir@";

unless ((-e "$libdir/libpisock.la") or (-e "$libdir/libpisock.a")) {
	die "pilot-link must be installed before PDA::Pilot can be built\n";
}

$lib = "-L$libdir -lpisock";

WriteMakefile(
    'NAME'       => 'PDA::Pilot',
    'VERSION'    => '0.1',
    'LIBS'       => $lib,
    'XSPROTOARG' => '-noprototypes',
    'INC'        => '-I../include',
    'DEFINE'     => '-DPERL_POLLUTE',
);
